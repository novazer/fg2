<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>{{'account.title' | translate}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="maxwidth">
  <div class="outer">
    <div class="inner">

    <ion-card color="danger" *ngIf="message == 2">
      <ion-card-header>
        <ion-card-title>{{'misc.error' | translate}}</ion-card-title>
      </ion-card-header>
      <ion-card-content>{{'account.messages.pwmatch' | translate}}</ion-card-content>
    </ion-card>

    <ion-card color="danger" *ngIf="message == 3">
      <ion-card-header>
        <ion-card-title>{{'misc.error' | translate}}</ion-card-title>
      </ion-card-header>
      <ion-card-content>{{'account.messages.confail' | translate}}</ion-card-content>
    </ion-card>

    <ion-card color="success" *ngIf="message == 4">
      <ion-card-header>
        <ion-card-title>{{'misc.success' | translate}}</ion-card-title>
      </ion-card-header>
      <ion-card-content>{{'account.messages.changed' | translate}}</ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-title>{{'account.change-password' | translate}}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-item lines="none">
          <ion-label position="floating">{{'account.new-password' | translate}}</ion-label>
          <ion-input placeholder="password" [(ngModel)]="new_password" (keydown.enter)="changePwd()" type="password"></ion-input>
        </ion-item>
        <ion-item lines="none">
          <ion-label position="floating">{{'account.repeat-password' | translate}}</ion-label>
          <ion-input placeholder="password" [(ngModel)]="repeat_password" (keydown.enter)="changePwd()" type="password"></ion-input>
        </ion-item>

        <ion-button color="secondary" expand="block" (click)="changePwd()" [disabled]="working">{{'account.change-password' | translate}}</ion-button>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-title>{{'account.logout' | translate}}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-button color="secondary" expand="block" (click)="logout()">{{'account.logout' | translate}}</ion-button>
      </ion-card-content>
    </ion-card>

    </div>
  </div>
</ion-content>
